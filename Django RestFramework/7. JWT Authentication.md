
Simple JWT can be installed with pip:

```shell
pip install djangorestframework-simplejwt
```

settings.py:
```python
REST_FRAMEWORK = {
    ...
    'DEFAULT_AUTHENTICATION_CLASSES': [
        ...
        'rest_framework_simplejwt.authentication.JWTAuthentication',
    ]
    ...
}
```

urls.py:
```python
from rest_framework_simplejwt.views import (
    TokenObtainPairView,
    TokenRefreshView,
)

urlpatterns = [
    ...
    path('api/token/', TokenObtainPairView.as_view(), name='token_obtain_pair'),
    path('api/token/refresh/', TokenRefreshView.as_view(), name='token_refresh'),
    ...
]
```

Add permission class to the view to be authenticated
```python
permission_classes = [IsAuthenticated]
```

views.py:
```python
class ReviewList(generics.ListCreateAPIView):
    serializer_class = ReviewSerializer
    permission_classes = [IsAuthenticated]
    
    def get_queryset(self): 
        pk = self.kwargs.get('pk')
        return Review.objects.filter(watchlist=pk)
```

Generate request and access token:
post request for `http://127.0.0.1:8000/api/token/`
with data in body ```
```json
{
    "username":"kumar",
    "password":"Dhanush@24"
}
```

response:
```json
{
    "refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc2MTc2MTI5OSwiaWF0IjoxNzYxNjc0ODk5LCJqdGkiOiIxYTdmMTI1MzY4MDk0MjViYWM1OGNjYjJmM2ZmZjVjZSIsInVzZXJfaWQiOjJ9.ri-tGWq7O5pw97ZF8ZYK_1fgS9KkJsSgL36kjJXwkKc",
    "access": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxNjc1MTk5LCJpYXQiOjE3NjE2NzQ4OTksImp0aSI6IjlkN2MwZDVhM2E1ZjRhM2JiM2ExMTMyYWIyYjJkZmZlIiwidXNlcl9pZCI6Mn0.88TXpp6EVJyWgWTjFxnzdAXhHmXmw0_GpRFQVS3LRJo"
}
```

access token is valid for 5 mins
request token is valid for 24hrs

While requesting the view pass the authorization in header
For `http://127.0.0.1:8000/watch/2/review`
In header
```
key : Authorization
value : Bearer <access token>
```

To generate new access token:
Post request for `http://127.0.0.1:8000/api/token/refresh/`
With data body
```json
"refresh": "<refresh token>"
```

response will be new access token